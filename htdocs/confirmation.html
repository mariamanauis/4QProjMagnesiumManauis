<!DOCTYPE html>
<html>
    <head>
        <title>Confirmation | PrOCure</title>
        <meta charset="UTF-8">
        <meta name="Magnesium_Manauis" content="Maria Estrlla P. Manauis">
        <meta name="keywords" content="HTML, CSS, JavaScript">
        <meta name="revised" content="13-09-2021">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="../images/icon.png" type="image/gif">
        <link rel="stylesheet" type="text/css" href="../css/general.css"> 
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=PT+Sans&family=PT+Serif&family=Quicksand&family=Special+Elite&display=swap" rel="stylesheet">
    </head>
<body>
        <header>
            <div id="navigation">
                <h1>PrOCure</h1>
                <a href="../index.html">HOME</a>
            </div>
            <img src="../images/bookstore_header.png">
        </header>
        <section>
            <h2>Form Confirmation</h2>

            <p>
                Thank you for reserving a book! We will be sending you an email to the email you provided for the other details regarding your
                pick-up or delivery of the book. Happy reading!
            </p>

            <p>Here's what we got from you:</p>

            <p>Book: <span id="result_book"></span> </p>
            <p>Start of Borrowing Date: <span id="result_sdate"></span> </p>
            <p>End of Borrowing Date: <span id="result_edate"></span> </p>
            <p>Name: <span id="result_name"></span> </p>
            <p>Email: <span id="result_email"></span> </p>
            <p>Phone Number: <span id="result_phone"></span> </p>
            <p>Mode of Delivery: <span id="result_deli"></span> </p>
            <p>Delivery Address: <span id="result_address"></span> </p>
            <p>Special Requests: <span id="result_requests"></span> </p>

            <p>
                Should there be any changes, please click the button below to go back to the previous page and correct any errors.
                You can also email us at tabsnslabs@gmail.com!
            </p>

            <p><input id="goBack" type="button" value="Go Back to Reservation Form"></p>
        </section>
        <footer>
            <div>
                <a href="about.html">About Us</a>
                <a href="references.html">References</a>
            </div>
        </footer>

        <script>
           //get book and date inputs

           let bookDateReserve = localStorage.getItem("bookDateReserve");

            if (bookDateReserve) {
                keyBookDate = "bookDateData" + bookDateReserve;
                let bookDateString = localStorage.getItem(keyBookDate);
                let bookDateObj = JSON.parse(bookDateString);

                result_book.innerHTML = bookDateObj.book_title;
                result_sdate.innerHTML = bookDateObj.sDate;
                result_edate.innerHTML = bookDateObj.eDate;
            }
            else {
                alert("No response has been submitted.");
            }

            //get reservation form inputs

            let contactInfo = localStorage.getItem("contactInfo");

            if (contactInfo) {
                keyContactInfo = "contactInfoData" + contactInfo;
                let contactInfoString = localStorage.getItem(keyContactInfo);
                let contactInfoObj = JSON.parse(contactInfoString);

                result_name.innerHTML = contactInfoObj.fullname;
                result_email.innerHTML = contactInfoObj.email;
                result_phone.innerHTML = contactInfoObj.phoneNumber;
                result_deli.innerHTML = contactInfoObj.deliMode;
                result_address.innerHTML = contactInfoObj.deliAddress;
                result_requests.innerHTML = contactInfoObj.requests;
            }

            goBack.addEventListener("click", function(){
				window.open("reserve.html","_self")
		    });
        </script>
</body>
</html> 
